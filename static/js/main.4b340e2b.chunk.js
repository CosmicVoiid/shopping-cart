(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{14:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),a=c(17),r=c.n(a),o=c(6),s=c(3),j=c(7),u=c(2),b=(c(14),c(1));var l=function(){return Object(b.jsx)("div",{className:"home"})};var d=function(e){var t=Object(n.useState)(),c=Object(s.a)(t,2),i=c[0],a=c[1],r=Object(n.useState)(),o=Object(s.a)(r,2),u=o[0],l=o[1],d=Object(n.useState)("nav-home"),p=Object(s.a)(d,2),O=p[0],h=p[1];return Object(n.useEffect)((function(){!0===i&&h("nav-shop"),!0===u&&h("nav-home")}),[i,u]),Object(n.useEffect)((function(){"http://cosmicvoiid.github.io/shop"===window.location.href?h("nav-shop"):"http://cosmicvoiid.github.io/shopping-cart"===window.location.href?h("nav-home"):"http://cosmicvoiid.github.io/cart"===window.location.href&&h("nav-cart")}),[]),Object(b.jsxs)("nav",{className:O,children:[Object(b.jsx)("h3",{children:"The Watch Tower"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("li",{onClick:function(){l(!0),a(!1)},children:"Home"})}),Object(b.jsx)(j.b,{to:"/shop",children:Object(b.jsx)("li",{onClick:function(){l(!1),a(!0)},children:"Shop"})}),Object(b.jsx)(j.b,{to:"/cart",children:Object(b.jsxs)("li",{children:["Cart ",0===e.cartItems?"":e.cartItems]})})]})]})},p=c(11);var O=function(e){var t=Object(n.useState)(e.oldAmount),c=Object(s.a)(t,2),i=c[0],a=c[1],r=Object(n.useState)({img:e.images,description:e.description,price:e.price,amount:e.oldAmount}),j=Object(s.a)(r,2),u=j[0],l=j[1];return Object(n.useEffect)((function(){l(Object(o.a)(Object(o.a)({},u),{},{amount:i}))}),[i]),Object(n.useEffect)((function(){!0===e.cartPage&&e.amountChange(u)}),[u]),Object(b.jsxs)("div",{className:"product-container",children:[Object(b.jsx)("img",{className:"product-img",src:e.images,alt:e.description}),Object(b.jsx)("p",{children:e.description}),Object(b.jsxs)("p",{children:["$",e.price]}),Object(b.jsxs)("div",{className:"counter-container",children:[Object(b.jsx)("div",{className:"counter-item btn",onClick:function(){i>1&&a(i-1)},children:"-"}),Object(b.jsx)("input",{type:"number",className:"input-num",value:i,onChange:function(e){e.target.value>0&&a(Number(e.target.value))}}),Object(b.jsx)("div",{className:"counter-item btn",onClick:function(){a(i+1)},children:"+"})]}),!1===e.cartPage&&Object(b.jsx)("button",{type:"button",onClick:function(){e.cartCallback(u)},children:"Add to Cart"}),!0===e.cartPage&&Object(b.jsx)("button",{type:"button",onClick:function(){e.deleteCallback(u)},children:"delete"})]})},h=c.p+"static/media/lige-watch.8ed76020.jpeg",f=c.p+"static/media/rolex.8f0b0735.jpeg",m=c.p+"static/media/omega.474df090.jpeg",x=c.p+"static/media/patek.5c1be471.jpeg",v=c.p+"static/media/seiko.37c2af46.jpeg";var g=function(e){var t=Object(n.useState)([{src:h,description:"Lige",price:10},{src:f,description:"Rolex",price:20},{src:m,description:"Omega",price:30},{src:x,description:"Patek",price:40},{src:v,description:"Seiko",price:50}]),c=Object(s.a)(t,1)[0],i=Object(n.useState)([]),a=Object(s.a)(i,2),r=a[0],j=a[1];Object(n.useEffect)((function(){e.parentCallback(r),console.log(r)}),[r]);var u=function(e){var t=r.findIndex((function(t){return t.description===e.description}));if(console.log(t),-1!==t){var c=Object(p.a)(r),n=Object(o.a)({},c[t]);n.amount+=e.amount,c[t]=n,j(c)}else j(r.concat(e))};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"title",children:"Shop"}),Object(b.jsx)("div",{className:"shop",children:c.map((function(e){return Object(b.jsx)(O,{images:e.src,description:e.description,price:e.price,cartCallback:u,cartPage:!1,oldAmount:1},e.description)}))})]})};var C=function(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),i=c[0],a=c[1],r=Object(n.useState)(0),j=Object(s.a)(r,2),u=j[0],l=j[1];Object(n.useEffect)((function(){a(e.cart),console.log(i)}),[e]);var d=function(e){var t=i.filter((function(t){return t.description!==e.description}));a(t),console.log("switchero")};Object(n.useEffect)((function(){if(i.length>0){var e=i.map((function(e){return e.amount*e.price})).reduce((function(e,t){return e+t}));l(e)}else l(0)}),[i]);var h=function(e){var t=i.findIndex((function(t){return t.description===e.description}));if(-1!==t){var c=Object(p.a)(i),n=Object(o.a)({},c[t]);n.amount=e.amount,c[t]=n,a(c)}};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Cart"}),i.map((function(e){return Object(b.jsx)(O,{images:e.img,description:e.description,price:e.price,cartPage:!0,deleteCallback:d,oldAmount:e.amount,amountChange:h},e.description)})),Object(b.jsxs)("h2",{children:["Total: $",u]})]})},k=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)([]),r=Object(s.a)(a,2),p=r[0],O=r[1],h=function(e){O(e)};return Object(n.useEffect)((function(){if(0!==p.length){var e=p.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0);i(e)}console.log({totalCartItems:p})}),[p]),Object(b.jsxs)(j.a,{children:[Object(b.jsx)(d,{cartItems:c}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/shop",render:function(e){return Object(b.jsx)(g,Object(o.a)(Object(o.a)({},e),{},{parentCallback:h}))}}),Object(b.jsx)(u.a,{exact:!0,path:"/cart",render:function(e){return Object(b.jsx)(C,Object(o.a)(Object(o.a)({},e),{},{cart:p}))}}),Object(b.jsx)(u.a,{path:"/",component:l})]})]})};r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4b340e2b.chunk.js.map