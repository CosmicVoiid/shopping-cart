(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{14:function(t,e,c){},33:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c.n(n),a=c(17),r=c.n(a),o=c(6),s=c(3),j=c(7),u=c(2),b=(c(14),c(1));var l=function(){return Object(b.jsx)("div",{className:"home"})};var d=function(t){var e=Object(n.useState)(),c=Object(s.a)(e,2),i=c[0],a=c[1],r=Object(n.useState)(),o=Object(s.a)(r,2),u=o[0],l=o[1],d=Object(n.useState)("nav-home"),p=Object(s.a)(d,2),O=p[0],h=p[1];return Object(n.useEffect)((function(){!0===i&&h("nav-shop"),!0===u&&h("nav-home")}),[i,u]),Object(n.useEffect)((function(){"http://cosmicvoiid.github.io/shopping-cart/shop"===window.location.href?h("nav-shop"):"http://cosmicvoiid.github.io/shopping-cart"===window.location.href?h("nav-home"):"http://cosmicvoiid.github.io/shopping-cart/cart"===window.location.href&&h("nav-cart")}),[]),Object(b.jsxs)("nav",{className:O,children:[Object(b.jsx)("h3",{children:"The Watch Tower"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("li",{onClick:function(){l(!0),a(!1)},children:"Home"})}),Object(b.jsx)(j.b,{to:"/shop",children:Object(b.jsx)("li",{onClick:function(){l(!1),a(!0)},children:"Shop"})}),Object(b.jsx)(j.b,{to:"/cart",children:Object(b.jsxs)("li",{children:["Cart ",0===t.cartItems?"":t.cartItems]})})]})]})},p=c(11);var O=function(t){var e=Object(n.useState)(t.oldAmount),c=Object(s.a)(e,2),i=c[0],a=c[1],r=Object(n.useState)({img:t.images,description:t.description,price:t.price,amount:t.oldAmount}),j=Object(s.a)(r,2),u=j[0],l=j[1];return Object(n.useEffect)((function(){l(Object(o.a)(Object(o.a)({},u),{},{amount:i}))}),[i]),Object(n.useEffect)((function(){!0===t.cartPage&&t.amountChange(u)}),[u]),Object(b.jsxs)("div",{className:"product-container",children:[Object(b.jsx)("img",{className:"product-img",src:t.images,alt:t.description}),Object(b.jsx)("p",{children:t.description}),Object(b.jsxs)("p",{children:["$",t.price]}),Object(b.jsxs)("div",{className:"counter-container",children:[Object(b.jsx)("div",{className:"counter-item btn",onClick:function(){i>1&&a(i-1)},children:"-"}),Object(b.jsx)("input",{type:"number",className:"input-num",value:i,onChange:function(t){t.target.value>0&&a(Number(t.target.value))}}),Object(b.jsx)("div",{className:"counter-item btn",onClick:function(){a(i+1)},children:"+"})]}),!1===t.cartPage&&Object(b.jsx)("button",{type:"button",onClick:function(){t.cartCallback(u)},children:"Add to Cart"}),!0===t.cartPage&&Object(b.jsx)("button",{type:"button",onClick:function(){t.deleteCallback(u)},children:"delete"})]})},h=c.p+"static/media/lige-watch.8ed76020.jpeg",f=c.p+"static/media/rolex.8f0b0735.jpeg",m=c.p+"static/media/omega.474df090.jpeg",x=c.p+"static/media/patek.5c1be471.jpeg",g=c.p+"static/media/seiko.37c2af46.jpeg";var v=function(t){var e=Object(n.useState)([{src:h,description:"Lige",price:10},{src:f,description:"Rolex",price:20},{src:m,description:"Omega",price:30},{src:x,description:"Patek",price:40},{src:g,description:"Seiko",price:50}]),c=Object(s.a)(e,1)[0],i=Object(n.useState)([]),a=Object(s.a)(i,2),r=a[0],j=a[1];Object(n.useEffect)((function(){t.parentCallback(r),console.log(r)}),[r]);var u=function(t){var e=r.findIndex((function(e){return e.description===t.description}));if(console.log(e),-1!==e){var c=Object(p.a)(r),n=Object(o.a)({},c[e]);n.amount+=t.amount,c[e]=n,j(c)}else j(r.concat(t))};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"title",children:"Shop"}),Object(b.jsx)("div",{className:"shop",children:c.map((function(t){return Object(b.jsx)(O,{images:t.src,description:t.description,price:t.price,cartCallback:u,cartPage:!1,oldAmount:1},t.description)}))})]})};var C=function(t){var e=Object(n.useState)([]),c=Object(s.a)(e,2),i=c[0],a=c[1],r=Object(n.useState)(0),j=Object(s.a)(r,2),u=j[0],l=j[1];Object(n.useEffect)((function(){a(t.cart),console.log(i)}),[t]);var d=function(t){var e=i.filter((function(e){return e.description!==t.description}));a(e),console.log("switchero")};Object(n.useEffect)((function(){if(i.length>0){var t=i.map((function(t){return t.amount*t.price})).reduce((function(t,e){return t+e}));l(t)}else l(0)}),[i]);var h=function(t){var e=i.findIndex((function(e){return e.description===t.description}));if(-1!==e){var c=Object(p.a)(i),n=Object(o.a)({},c[e]);n.amount=t.amount,c[e]=n,a(c)}};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Cart"}),i.map((function(t){return Object(b.jsx)(O,{images:t.img,description:t.description,price:t.price,cartPage:!0,deleteCallback:d,oldAmount:t.amount,amountChange:h},t.description)})),Object(b.jsxs)("h2",{children:["Total: $",u]})]})},k=function(){var t=Object(n.useState)(0),e=Object(s.a)(t,2),c=e[0],i=e[1],a=Object(n.useState)([]),r=Object(s.a)(a,2),p=r[0],O=r[1],h=function(t){O(t)};return Object(n.useEffect)((function(){if(0!==p.length){var t=p.map((function(t){return t.amount})).reduce((function(t,e){return t+e}),0);i(t)}console.log({totalCartItems:p})}),[p]),Object(b.jsxs)(j.a,{children:[Object(b.jsx)(d,{cartItems:c}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",component:l}),Object(b.jsx)(u.a,{exact:!0,path:"/shop",render:function(t){return Object(b.jsx)(v,Object(o.a)(Object(o.a)({},t),{},{parentCallback:h}))}}),Object(b.jsx)(u.a,{exact:!0,path:"/cart",render:function(t){return Object(b.jsx)(C,Object(o.a)(Object(o.a)({},t),{},{cart:p}))}})]})]})};r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b8fe29dd.chunk.js.map